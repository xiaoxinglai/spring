<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="sell.dao.DO.FightInfoMapper" >
  <resultMap id="BaseResultMap" type="sell.pojo.FightInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="fight_id" property="fightId" jdbcType="BIGINT" />
    <result column="fight_no" property="fightNo" jdbcType="VARCHAR" />
    <result column="departure" property="departure" jdbcType="VARCHAR" />
    <result column="destination" property="destination" jdbcType="VARCHAR" />
    <result column="departure_time" property="departureTime" jdbcType="TIMESTAMP" />
    <result column="destination_time" property="destinationTime" jdbcType="TIMESTAMP" />
    <result column="fight_company_id" property="fightCompanyId" jdbcType="BIGINT" />
    <result column="fight_type" property="fightType" jdbcType="VARCHAR" />
    <result column="fight_pay" property="fightPay" jdbcType="BIGINT" />
    <result column="fight_num" property="fightNum" jdbcType="BIGINT" />
    <result column="ticket_type_id" property="ticketTypeId" jdbcType="BIGINT" />
    <result column="status" property="status" jdbcType="TINYINT" />
    <result column="creat_time" property="creatTime" jdbcType="TIMESTAMP" />
    <result column="modfiy_time" property="modfiyTime" jdbcType="TIMESTAMP" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from fight_info
    where fight_id = #{fightId,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="sell.pojo.FightInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <selectKey resultType="java.lang.Long" keyProperty="fightId" order="AFTER" >
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into fight_info (fight_no, departure, destination, 
      departure_time, destination_time, fight_company_id, 
      fight_type, fight_pay, fight_num, 
      ticket_type_id, `status`, creat_time, 
      modfiy_time)
    values (#{fightNo,jdbcType=VARCHAR}, #{departure,jdbcType=VARCHAR}, #{destination,jdbcType=VARCHAR}, 
      #{departureTime,jdbcType=TIMESTAMP}, #{destinationTime,jdbcType=TIMESTAMP}, #{fightCompanyId,jdbcType=BIGINT}, 
      #{fightType,jdbcType=VARCHAR}, #{fightPay,jdbcType=BIGINT}, #{fightNum,jdbcType=BIGINT}, 
      #{ticketTypeId,jdbcType=BIGINT}, #{status,jdbcType=TINYINT}, #{creatTime,jdbcType=TIMESTAMP}, 
      #{modfiyTime,jdbcType=TIMESTAMP})
  </insert>
  <update id="updateByPrimaryKey" parameterType="sell.pojo.FightInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update fight_info
    set fight_no = #{fightNo,jdbcType=VARCHAR},
      departure = #{departure,jdbcType=VARCHAR},
      destination = #{destination,jdbcType=VARCHAR},
      departure_time = #{departureTime,jdbcType=TIMESTAMP},
      destination_time = #{destinationTime,jdbcType=TIMESTAMP},
      fight_company_id = #{fightCompanyId,jdbcType=BIGINT},
      fight_type = #{fightType,jdbcType=VARCHAR},
      fight_pay = #{fightPay,jdbcType=BIGINT},
      fight_num = #{fightNum,jdbcType=BIGINT},
      ticket_type_id = #{ticketTypeId,jdbcType=BIGINT},
      `status` = #{status,jdbcType=TINYINT},
      creat_time = #{creatTime,jdbcType=TIMESTAMP},
      modfiy_time = #{modfiyTime,jdbcType=TIMESTAMP}
    where fight_id = #{fightId,jdbcType=BIGINT}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select fight_id, fight_no, departure, destination, departure_time, destination_time, 
    fight_company_id, fight_type, fight_pay, fight_num, ticket_type_id, `status`, creat_time, 
    modfiy_time
    from fight_info
    where fight_id = #{fightId,jdbcType=BIGINT}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select fight_id, fight_no, departure, destination, departure_time, destination_time, 
    fight_company_id, fight_type, fight_pay, fight_num, ticket_type_id, `status`, creat_time, 
    modfiy_time
    from fight_info
  </select>


  <select id="selectAllByFids" resultMap="BaseResultMap" parameterType="java.util.List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select fight_id, fight_no, departure, destination, departure_time, destination_time,
    fight_company_id, fight_type, fight_pay, fight_num, ticket_type_id, `status`, creat_time,
    modfiy_time
    from fight_info where fight_id in
    <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
      #{item}
    </foreach>
  </select>


  <select id="selectListByPage" resultMap="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select fight_id, fight_no, departure, destination, departure_time, destination_time,
    fight_company_id, fight_type, fight_pay, fight_num, ticket_type_id, `status`, creat_time,
    modfiy_time
    from fight_info where `status`=1
    <if test="pageSize!=null and currentPage!=null" >
      limit  #{currentPage},#{pageSize}
    </if>

  </select>
  <select id="selectCount" resultType="Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select count(1)
    from fight_info where `status`=1
  </select>
</mapper>